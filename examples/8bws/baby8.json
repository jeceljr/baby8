
{
  "name":"femto8",
  "width":8,
  "vars":{
    "reg":{"bits":2, "toks":["w", "x", "y", "none"]},
    "ifixop":{"bits":3, "toks":["+","-","=","none","&","|","^"]},
    "binop":{"bits":3, "toks":["+=","-=","=","none","&=","|=","^="]},
    "cond":{"bits":4,"toks":["Z","!Z","C","!C","N","!N","V","!V",
                             ">","<=","$>=","$<",">","$<=","true","false"]},
    "imm8":{"bits":8},
    "imm16":{"bits":16},
    "zp":{"bits":7}
  },
  "rules":[
    {"fmt":"~reg ~binop # ~imm8", "bits":["111",1,0,2]},
    {"fmt":">>>> ~imm16", "bits":["11101100",0]},
    {"fmt":">>>>$ ~imm16", "bits":["11101101",0]},
    {"fmt":"<<<<", "bits":["11101111"]},
    {"fmt":">>>> *~zp", "bits":["11101100","1",0]},
    {"fmt":">>>>$ *~zp", "bits":["11101101","1",0]},
    {"fmt":">>>># *~imm8", "bits":["11111110",0]},
    {"fmt":"<<<< ~zp", "bits":["11111111","0",0]},
    {"fmt":"k = ~cond", "bits":["0111",0]},
    {"fmt":"~reg += ~reg",   "bits":["000","0",1,0]},
    {"fmt":"~zp += ~reg",   "bits":["000","0",1,"11","0",0]},
    {"fmt":"~reg += ~zp",   "bits":["000","0","11",0,"0",1]},
    {"fmt":"~zp += ~zp",   "bits":["000","0","11","11","0",0,"0",1]},
    {"fmt":"k = ~reg + ~reg", "bits":["000","1",1,0]},
    {"fmt":"k = ~zp + ~reg", "bits":["000","1",1,"11","0",0]},
    {"fmt":"k = ~zp + ~zp", "bits":["000","1","11","11","0",0,"0",1]},
    {"fmt":"~reg -= ~reg",   "bits":["001","0",1,0]},
    {"fmt":"~zp -= ~reg",   "bits":["001","0",1,"11","0",0]},
    {"fmt":"~reg -= ~zp",   "bits":["001","0","11",0,"0",1]},
    {"fmt":"~zp -= ~zp",   "bits":["001","0","11","11","0",0,"0",1]},
    {"fmt":"k = ~reg - ~reg", "bits":["001","1",1,0]},
    {"fmt":"k = ~zp - ~reg", "bits":["001","1",1,"11","0",0]},
    {"fmt":"k = ~zp - ~zp", "bits":["001","1","11","11","0",0,"0",1]},
    {"fmt":"~reg = ~reg",   "bits":["010","0",1,0]},
    {"fmt":"~zp = ~reg",   "bits":["010","0",1,"11","0",0]},
    {"fmt":"~reg = ~zp",   "bits":["010","0","11",0,"0",1]},
    {"fmt":"~zp = ~zp",   "bits":["010","0","11","11","0",0,"0",1]},
    {"fmt":"k = ~reg = ~reg", "bits":["010","1",1,0]},
    {"fmt":"k = ~zp = ~reg", "bits":["010","1",1,"11","0",0]},
    {"fmt":"k = ~zp = ~zp", "bits":["010","1","11","11","0",0,"0",1]},
    {"fmt":"~cond ?",   "bits":["0110",0]},
    {"fmt":"~reg &= ~reg",   "bits":["100","0",1,0]},
    {"fmt":"~zp &= ~reg",   "bits":["100","0",1,"11","0",0]},
    {"fmt":"~reg &= ~zp",   "bits":["100","0","11",0,"0",1]},
    {"fmt":"~zp &= ~zp",   "bits":["100","0","11","11","0",0,"0",1]},
    {"fmt":"k = ~reg & ~reg", "bits":["100","1",1,0]},
    {"fmt":"k = ~zp & ~reg", "bits":["100","1",1,"11","0",0]},
    {"fmt":"k = ~zp & ~zp", "bits":["100","1","11","11","0",0,"0",1]},
    {"fmt":"~reg |= ~reg",   "bits":["101","0",1,0]},
    {"fmt":"~zp |= ~reg",   "bits":["101","0",1,"11","0",0]},
    {"fmt":"~reg |= ~zp",   "bits":["101","0","11",0,"0",1]},
    {"fmt":"~zp |= ~zp",   "bits":["101","0","11","11","0",0,"0",1]},
    {"fmt":"k = ~reg | ~reg", "bits":["101","1",1,0]},
    {"fmt":"k = ~zp | ~reg", "bits":["101","1",1,"11","0",0]},
    {"fmt":"k = ~zp | ~zp", "bits":["101","1","11","11","0",0,"0",1]},
    {"fmt":"~reg ^= ~reg",   "bits":["110","0",1,0]},
    {"fmt":"~zp ^= ~reg",   "bits":["110","0",1,"11","0",0]},
    {"fmt":"~reg ^= ~zp",   "bits":["110","0","11",0,"0",1]},
    {"fmt":"~zp ^= ~zp",   "bits":["110","0","11","11","0",0,"0",1]},
    {"fmt":"k = ~reg ^ ~reg", "bits":["110","1",1,0]},
    {"fmt":"k = ~zp ^ ~reg", "bits":["110","1",1,"11","0",0]},
    {"fmt":"k = ~zp ^ ~zp", "bits":["110","1","11","11","0",0,"0",1]},
    {"fmt":"~",              "bits":["11101110"]}
  ]
}
